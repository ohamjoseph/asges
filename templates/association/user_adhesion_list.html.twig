{% extends 'theme/base/base_main.html.twig' %}

{% block title %}Mes adhesions{% endblock %}

{% block body %}

    <div class="row">

        <div class="accordion mt-3" id="accordionExample">
            <div class="card accordion-item active">
                <h2 class="accordion-header" id="headingOne">
                    <button
                            type="button"
                            class="accordion-button"
                            data-bs-toggle="collapse"
                            data-bs-target="#accordionOne"
                            aria-expanded="true"
                            aria-controls="accordionOne"
                    >
                        Demandes en cours
                    </button>
                </h2>

                <div
                        id="accordionOne"
                        class="accordion-collapse collapse show"
                        data-bs-parent="#accordionExample"
                >
                    <div class="accordion-body">
                        <div class="table-responsive text-nowrap">
                            <table class="table table-striped">
                                <thead>
                                <tr>
                                    <th>Association</th>
                                    <th>Date de demande</th>
                                    <th>Status</th>
                                    <th>Role</th>
                                </tr>
                                </thead>
                                <tbody class="table-border-bottom-0">
                                {% for adhesion in app.user.getAdhesions %}
                                    {%if adhesion.role != 'PRESIDENT' and adhesion.status == 'CREER' %}
                                        {%include 'theme/include/adhesion_ligne.html.twig' with {'adhesion':adhesion}%}
                                    {%endif%}
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card accordion-item">
                <h2 class="accordion-header" id="headingTwo">
                    <button
                            type="button"
                            class="accordion-button collapsed d-flex justify-content-between"
                            data-bs-toggle="collapse"
                            data-bs-target="#accordionTwo"
                            aria-expanded="false"
                            aria-controls="accordionTwo"

                    >

                        Actives
                    </button>
                </h2>
                <div
                        id="accordionTwo"
                        class="accordion-collapse collapse"
                        aria-labelledby="headingTwo"
                        data-bs-parent="#accordionExample"
                >
                    <div class="accordion-body">
                        <div class="table-responsive text-nowrap">
                            <table class="table table-striped">
                                <thead>
                                <tr>
                                    <th>Association</th>
                                    <th>Date de demande</th>
                                    <th>Status</th>
                                    <th>Role</th>
                                </tr>
                                </thead>
                                <tbody class="table-border-bottom-0">
                                {% for adhesion in app.user.getAdhesions %}
                                    {%if adhesion.role != 'PRESIDENT' and adhesion.status == 'ACTIVE' %}
                                        {%include 'theme/include/adhesion_ligne.html.twig' with {'adhesion':adhesion}%}
                                    {%endif%}
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card accordion-item">
                <h2 class="accordion-header" id="headingThree">
                    <button
                            type="button"
                            class="accordion-button collapsed"
                            data-bs-toggle="collapse"
                            data-bs-target="#accordionThree"
                            aria-expanded="false"
                            aria-controls="accordionThree"
                    >
                        Suspendus
                    </button>
                </h2>
                <div
                        id="accordionThree"
                        class="accordion-collapse collapse"
                        aria-labelledby="headingThree"
                        data-bs-parent="#accordionExample"
                >
                    <div class="accordion-body">
                        <div class="table-responsive text-nowrap">
                            <table class="table table-striped">
                                <thead>
                                <tr>
                                    <th>Association</th>
                                    <th>Date de demande</th>
                                    <th>Status</th>
                                    <th>Role</th>
                                </tr>
                                </thead>
                                <tbody class="table-border-bottom-0">
                                {% for adhesion in app.user.getAdhesions %}
                                    {%if adhesion.role != 'PRESIDENT' and adhesion.status == 'SUSPENDUS' %}
                                        {%include 'theme/include/adhesion_ligne.html.twig' with {'adhesion':adhesion}%}
                                    {%endif%}
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card accordion-item">
                <h2 class="accordion-header" id="headingFourth">
                    <button
                            type="button"
                            class="accordion-button collapsed"
                            data-bs-toggle="collapse"
                            data-bs-target="#accordionFourth"
                            aria-expanded="false"
                            aria-controls="accordionFourth"
                    >
                        Retirer
                    </button>
                </h2>
                <div
                        id="accordionFourth"
                        class="accordion-collapse collapse"
                        aria-labelledby="headingFourth"
                        data-bs-parent="#accordionExample"
                >
                    <div class="accordion-body">
                        <div class="table-responsive text-nowrap">
                            <table class="table table-striped">
                                <thead>
                                <tr>
                                    <th>Association</th>
                                    <th>Date de demande</th>
                                    <th>Status</th>
                                    <th>Role</th>
                                </tr>
                                </thead>
                                <tbody class="table-border-bottom-0">
                                {% for adhesion in app.user.getAdhesions %}
                                    {%if adhesion.role != 'PRESIDENT' and adhesion.status == 'BANNIS' %}
                                        {%include 'theme/include/adhesion_ligne.html.twig' with {'adhesion':adhesion}%}
                                    {%endif%}
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="row">
        {% if isPaginated is defined and isPaginated %}
            <div class="demo-inline-spacing">

                <nav aria-label="Page navigation">
                    <ul class="pagination justify-content-center">
                        {% if page!=1 %}
                            <li class="page-item prev">
                                <a class="page-link" href="{{path('app_acceuil',{page:page-1})}}"><i class="tf-icon bx bx-chevrons-left"></i></a>
                            </li>
                        {% endif %}

                        {% for i in range(1, nbPage) %}
                            <li class="page-item {%if page==i %} active {% endif %}">
                                <a class="page-link" href="{{path('app_acceuil',{page:i})}}">{{i}}</a>
                            </li>
                        {% endfor %}

                        {% if page!=nbPage %}
                            <li class="page-item next">
                                <a class="page-link" href="{{path('app_acceuil',{page:page+1})}}"><i class="tf-icon bx bx-chevrons-right"></i></a>
                            </li>
                        {% endif %}
                    </ul>
                </nav>
            </div>

        {% endif %}
    </div>

{% endblock %}
