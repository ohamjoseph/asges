{% extends 'theme/base/base_main.html.twig' %}

{% block title %}Detail de {{adhesion.user}}{% endblock %}

{% block body %}

    <div class="row mb-5">
            <div class="card">
                <div class="card-header">Featured</div>
                <div class="card-body">
                    <h5 class="card-title">{{adhesion.user}}</h5>
                    <div class="card-text">
                        <div class="row">
                            <div class="col-md-6 py-2">
                                E-mail: {{adhesion.user.email}}
                            </div>
                            <div class="col-md-6 py-2">
                                Adresse: {{adhesion.user.adresse}}
                            </div>
                            <div class="col-md-6 py-2">
                                Membre depuis: {{adhesion.createAt|date("F jS \\a\\t g:ia")}}
                            </div>

                            <div class="col-md-6 py-2">
                                Role: {{adhesion.role|default('Adh√©rant')}}
                            </div>
                        </div>
                    </div>
                    <div class="mt-3">
                        <a href="{{path('app_adhesion',{'id':userAdhesion.association.id})}}" class="btn btn-outline-secondary">Retour</a>

                        {% if userAdhesion.role == 'PRESIDENT' or userAdhesion.role == 'EDITEUR'%}

                            {% if adhesion.status == 'CREER' %}

                                <a href="{{path('app_adhesion.response', {'id':adhesion.id,'status':'active'})}}" class="btn btn-success">Accepter l'adhesion</a>
                                <a href="{{path('app_adhesion.response', {'id':adhesion.id,'status':'rejeter'})}}" class="btn btn-danger">Rejeter</a>
                            {%else%}
                                {% if adhesion.status != 'BANNIS'%}
                                    <a href="{{path('app_adhesion.response', {'id':adhesion.id,'status':'bannis'})}}" class="btn btn-danger">Retirer</a>
                                        {% if adhesion.status == 'SUSPENDUS' %}
                                            <a href="{{path('app_adhesion.response', {'id':adhesion.id,'status':'active'})}}" class="btn btn-secondary">Reintegrer</a>

                                        {%else%}
                                            <a href="{{path('app_adhesion.response', {'id':adhesion.id,'status':'suspendus'})}}" class="btn btn-warning">Suspendre</a>
                                            {% if userAdhesion.role == 'PRESIDENT'%}

                                                {%if adhesion.role == 'EDITEUR' %}
                                                    <a href="{{path('app_adhesion.editeur',{'id':adhesion.id,'role':0})}}" class="btn btn-primary ">Revoquer Editeur</a>
                                                {%else%}
                                                    <a href="{{path('app_adhesion.editeur',{'id':adhesion.id})}}" class="btn btn-primary">Nommer Editeur</a>
                                                {% endif %}

                                            {%endif%}
                                        {% endif %}

                                {%else%}
                                    <a href="{{path('app_adhesion.response', {'id':adhesion.id,'status':'active'})}}" class="btn btn-secondary">Reintegrer</a>
                                {%endif%}
                            {%endif%}
                        {% endif %}
                    </div>
                </div>
            </div>
    </div>

{% endblock %}
